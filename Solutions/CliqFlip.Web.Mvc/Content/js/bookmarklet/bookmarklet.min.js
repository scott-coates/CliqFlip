(function (a, b) { var c = function () { var a = b.minSize; return { getImages: function () { var b = jQuery("img"); var c = jQuery.grep(b, function (b, c) { return b.naturalWidth >= a && b.naturalHeight >= a && b.src }).map(function (a, b) { return a.src }); return c } } } (); var d = function () { function l(c) { if (a.jQuery === undefined || a.jQuery.fn.jquery < b.jQueryMinVersion) { var d = false; var e = a.document.createElement("script"); e.src = "http://ajax.googleapis.com/ajax/libs/jquery/" + b.jQueryDesiredVersion + "/jquery.min.js"; e.onload = e.onreadystatechange = function () { if (!d && (!this.readyState || this.readyState === "loaded" || this.readyState === "complete")) { d = true; c() } }; a.document.getElementsByTagName("head")[0].appendChild(e) } else { c() } } function k(a) { var c = b.thumbnailSize; var d = "<div class='share-item-container' style='cursor: pointer; text-align: center; float: left; width: " + c + "px;height: " + c + "px;background-color: white;margin: 10px;border: 1px solid;padding: 10px;position: relative;'>" + "<img src='" + a + "' />" + "<span>Share</span>" + "</div>"; var e = jQuery(d).click(function () {  var a = encodeURIComponent(jQuery(this).find("img")[0].src); window.open(b.endpoint + "?mediumurl=" + a, "CliqFlip Share", "status=no,resizable=yes,scrollbars=yes,personalbar=no,directories=no,location=no,toolbar=no,menubar=no,width=632,height=412,left=0,top=0") }); return e } function j() { var b = i() + 1; d = jQuery("<div></div>").appendTo("body"); jQuery("<style type='text/css'>" + "#bookmarklet_closer:hover{ background-color: #046491; }" + "#bookmarklet_closer{ background-color: #24282D; width: 100%; height: 35px; line-height: 35px; text-align: center; position: fixed; top: 0; left: 0; z-index: 1000; display:block; }" + "div.share-item-container span {position: absolute; bottom: 10px; left: 90px;background-color: #4DBCE9;border: solid 1px;padding: 5px;border-radius: 5px; display: none;}" + "div.share-item-container:hover span {display: block;}" + "#bookmarklet-background {width: 100%;height: 100%;background-color: #24282D;position: fixed;top: 0;left: 0;opacity: 0.6;z-index: " + b + ";}" + "#bookmarklet-content-container {width: 80%;height: 80%;background-color: white;position: fixed;top: 15%;left: 10%;z-index: 1000;overflow-y: scroll;z-index:" + b + "}" + "#bookmarklet-content-container img {max-height: 100%;max-width: 100%;margin: 0 auto;display: block;}" + "#bookmarklet_closer{ color: white; }" + "</style>").appendTo(d); e = jQuery("<div id='bookmarklet-background'></div>").appendTo(d); jQuery("<iframe allowtransparency='true' width='100%' height='100%' />").appendTo(e); f = jQuery("<div id='bookmarklet-content-container'></div>").appendTo(d); g = jQuery("<a id='bookmarklet_closer' href='javascript:void(0)'>Close<a>").appendTo(f).click(function () { d.remove(); a.hasAnOpenBookmarklet = false }) } function i() { if (h) { return h } h = 0; var b = a.document.body.getElementsByTagName("*"); var c, d = b.length; for (c = 0; c < d; c++) { var e = b[c]; var f = parseInt(a.document.defaultView.getComputedStyle(e, null).getPropertyValue("z-index"), 10); if (f && h < f) { h = f } } return h } var d, e, f, g, h; return { init: function () { if (a.location.hostname.match("cliqflip")) { alert("Awesome! Your bookmarklet is working."); a.hasAnOpenBookmarklet = false; return } l(function () { a.hasAnOpenBookmarklet = true; j(); var b, d = c.getImages(), e = d.length; for (b = 0; b < e; b++) { var g = d[b]; k(g).appendTo(f) } }) } } } ();  if (!a.hasAnOpenBookmarklet) { d.init() } })(window, { minSize: 75, jQueryMinVersion: "1.3.2", jQueryDesiredVersion: "1.7.1", thumbnailSize: 200, endpoint: window.cliqflipBookmarkPath })